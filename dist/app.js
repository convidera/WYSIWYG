import elementContainerKeyListener from"./key-listeners/element-container-key-listener";import globalKeyListener from"./key-listeners/global-key-listener";import{iterateAllElementContainers,iterateAllMarkdownElementContainers,iterateAllMediaElementContainers}from"./utils/element-container-helper";import addMarkdownEventListeners from"./elements/text/markdown/event-listener";import addMediaEventListeners from"./elements/media/event-listener";import stopEvent from"./utils/event-broker";window.addEventListener("load",function(){window.wysiwyg=window.wysiwyg||{},window.wysiwyg.insertMode=!1,window.wysiwyg.storage=window.wysiwyg.storage||{},window.wysiwyg.storage.media=[],iterateAllElementContainers(function(e){e.onkeydown=elementContainerKeyListener}),iterateAllMarkdownElementContainers(function(e){addMarkdownEventListeners(e)}),iterateAllMediaElementContainers(function(e){addMediaEventListeners(e)}),document.onkeydown=globalKeyListener;var e=function(e){return e.dataTransfer.effectAllowed="none",e.dataTransfer.dropEffect="none",stopEvent(e)};document.body=document.body||document.getElementsByTagName("BODY")[0],document.body.addEventListener("dragover",e,!1),document.body.addEventListener("drop",e,!1),void 0===Array.isArray&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)})});
